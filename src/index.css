@tailwind base;
@tailwind components;

@tailwind utilities;

@keyframes fadeInLeft {
  from {
    opacity: 0;
    transform: translateX(-30px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes fadeInRight {
  from {
    opacity: 0;
    transform: translateX(30px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes float {
  0%, 100% {
    transform: translateY(0px);
  }
  50% {
    transform: translateY(-20px);
  }
}

@keyframes pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

@keyframes wiggle {
  0%, 100% {
    transform: rotate(-3deg);
  }
  50% {
    transform: rotate(3deg);
  }
}

@keyframes bubbleFloat {
  0% {
    transform: translateY(0) scale(1);
    opacity: 0.7;
  }
  50% {
    transform: translateY(-50px) scale(1.1);
    opacity: 0.5;
  }
  100% {
    transform: translateY(-100px) scale(0.8);
    opacity: 0;
  }
}

.animate-fadeInLeft {
  animation: fadeInLeft 0.6s ease-out;
}

.animate-fadeInRight {
  animation: fadeInRight 0.6s ease-out;
}

.animate-fadeInUp {
  animation: fadeInUp 0.5s ease-out;
}

.animate-float {
  animation: float 3s ease-in-out infinite;
}

.animate-pulse-slow {
  animation: pulse 2s ease-in-out infinite;
}

.animate-wiggle {
  animation: wiggle 1s ease-in-out infinite;
}

.animate-bubble {
  animation: bubbleFloat 4s ease-in-out infinite;
}

@keyframes bounceSlow {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-10px);
  }
}

.animate-bounce-slow {
  animation: bounceSlow 3s ease-in-out infinite;
}

@keyframes gradientShift {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

.animate-gradient {
  background-size: 300% 300%;
  animation: gradientShift 8s ease infinite;
}

/* subtle float used for small decorative icons */
.float-slow {
  animation: float 4s ease-in-out infinite;
}

/* Mini-quiz option animations and selected state */
@keyframes bounceSelect {
  0% { transform: scale(0.98); }
  50% { transform: scale(1.04); }
  100% { transform: scale(1.03); }
}

.quiz-option {
  transition: transform 180ms cubic-bezier(.2,.9,.2,1), box-shadow 180ms ease, background-color 180ms ease;
  will-change: transform, box-shadow;
}

.quiz-option:hover {
  transform: translateY(-4px) scale(1.02);
  box-shadow: 0 10px 24px rgba(15,15,26,0.06);
}

.quiz-selected {
  transform: scale(1.03);
  box-shadow: 0 12px 30px rgba(124,58,237,0.18);
  animation: bounceSelect 360ms ease;
}

/* Wider quiz container utility (small helper) */
.quiz-wide { max-width: 64rem; }

/* Revamped quiz container and option styles (youthful gradient palette) */
.quiz-vibrant {
  /* Requested gradient: turquoise -> celeste pastel -> violeta pastel */
  background: linear-gradient(135deg, #4FD1C5 0%, #A7F3F0 55%, #C4B5FD 100%);
  padding: 1.5rem;
  border-radius: 1rem;
  box-shadow: 0 10px 30px rgba(30,30,30,0.06);
  color: #1E1E1E;
}

.quiz-vibrant .quiz-inner {
  /* Soft cold-white background for inner panel */
  background: rgba(247,249,251,0.95); /* #F7F9FB */
  border-radius: 0.9rem;
  padding: 1.75rem;
}

.quiz-options {
  display: flex;
  flex-direction: row;
  gap: 1rem 1.25rem;
  justify-content: center;
  align-items: center;
  /* keep options on a single row; allow horizontal scroll on very small screens */
  overflow-x: auto;
  padding-bottom: 0.25rem;
}

.quiz-options::-webkit-scrollbar { height: 8px; }
.quiz-options::-webkit-scrollbar-thumb { background: rgba(30,30,30,0.08); border-radius: 8px; }

.quiz-option {
  background: linear-gradient(180deg, rgba(255,255,255,0.98), rgba(255,255,255,0.94));
  border: 1px solid rgba(30,30,30,0.06);
  padding: 1.15rem 1.5rem;
  border-radius: 0.9rem;
  text-align: center;
  cursor: pointer;
  transition: transform 250ms cubic-bezier(.2,.9,.2,1), box-shadow 250ms ease, background-color 250ms ease, border-color 250ms ease;
  will-change: transform, box-shadow, background-color;
  min-width: 160px;
}

.quiz-option:hover {
  transform: scale(1.02);
  box-shadow: 0 14px 34px rgba(37,65,178,0.08);
}

.quiz-selected {
  background: linear-gradient(90deg, #C4B5FD 0%, #A7F3F0 60%);
  color: #1E1E1E !important;
  border: 2px solid rgba(79,195,247,0.8);
  box-shadow: 0 20px 44px rgba(76,153,233,0.12);
  transform: scale(1.03);
}

/* make container occupy ~85% viewport width and limit max to 1100px */
.quiz-wide { width: 92vw; max-width: 1100px; margin-left: auto; margin-right: auto; }

@media (min-width: 768px) {
  /* medium screens: occupy ~90% */
  .quiz-wide { width: 90%; }
}

@media (min-width: 1024px) {
  /* large screens: occupy ~85% (still within 80-90%) */
  .quiz-wide { width: 85%; }
}

/* subtle bounce keyframe for selected visual */
@keyframes quizBounce {
  0% { transform: scale(0.995); }
  50% { transform: scale(1.05); }
  100% { transform: scale(1.03); }
}

.quiz-selected.animate-bounce {
  animation: quizBounce 360ms ease;
}

/* ============================================
   ANIMACIONES ESPECÍFICAS DE MÓDULOS
   ============================================ */

/* Variables de paleta para módulos */
:root {
  --primary: #00BFA5;
  --primary-dark: #00D4B5;
  --accent: #FFB300;
  --accent-2: #7C3AED;
  --danger: #FF6B6B;
}

@keyframes cardIn {
  from {
    opacity: 0;
    transform: translateY(10px) scale(0.995);
  }
  to {
    opacity: 1;
    transform: none;
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes scaleIn {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes pulseModule {
  0% {
    box-shadow: 0 0 0 0 rgba(0, 191, 165, 0.28);
  }
  70% {
    box-shadow: 0 0 0 10px rgba(0, 191, 165, 0);
  }
  100% {
    box-shadow: 0 0 0 0 rgba(0, 191, 165, 0);
  }
}

@keyframes shimmer {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

@keyframes rocketLaunch {
  0% {
    transform: translateY(0) scale(1) rotate(0);
    opacity: 1;
  }
  60% {
    transform: translateY(-160px) scale(0.9) rotate(-6deg);
    opacity: 1;
  }
  100% {
    transform: translateY(-420px) scale(0.4) rotate(-20deg);
    opacity: 0;
  }
}

@keyframes confettiFall {
  to {
    transform: translateY(110vh) rotate(720deg);
    opacity: 0;
  }
}

/* Clases de utilidad para módulos */
.card-animate {
  animation: cardIn 0.48s cubic-bezier(0.2, 0.9, 0.2, 1) both;
}

.pulse-cta {
  animation: pulseModule 2.2s infinite;
}

.rocket-launching {
  animation: rocketLaunch 0.9s cubic-bezier(0.2, 0.9, 0.2, 1) forwards;
  font-size: 52px;
}

.animate-fadeIn {
  animation: fadeIn 0.3s ease-out;
}

.animate-scaleIn {
  animation: scaleIn 0.4s cubic-bezier(0.16, 1, 0.3, 1);
}

.cover-hover {
  transition: transform 0.45s cubic-bezier(0.2, 0.9, 0.2, 1);
}

.cover-overlay {
  transition: opacity 0.22s ease, transform 0.22s ease;
  opacity: 0;
  transform: scale(0.96);
}

article:hover .cover-hover {
  transform: scale(1.035) translateY(-4px) rotate(-0.4deg);
}

article:hover .cover-overlay {
  opacity: 1;
  transform: scale(1);
}

.progress-bar-fill {
  transition: width 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.progress-shimmer {
  background: linear-gradient(
    90deg,
    transparent,
    rgba(255, 255, 255, 0.35),
    transparent
  );
  background-size: 200% 100%;
  animation: shimmer 2s linear infinite;
}

.preview-bubble {
  position: absolute;
  right: 1.25rem;
  top: 1.25rem;
  width: 180px;
  padding: 10px;
  border-radius: 12px;
  background: linear-gradient(
    180deg,
    rgba(255, 255, 255, 0.98),
    rgba(255, 255, 255, 0.92)
  );
  box-shadow: 0 10px 30px rgba(2, 6, 23, 0.12);
  transform: translateZ(0);
  z-index: 30;
  pointer-events: none;
  font-size: 13px;
}

.confetti {
  position: fixed;
  pointer-events: none;
  z-index: 9999;
}